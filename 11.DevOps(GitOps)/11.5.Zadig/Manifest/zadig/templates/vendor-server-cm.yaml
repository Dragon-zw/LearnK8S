apiVersion: v1
kind: ConfigMap
metadata:
  name: plutus-vendor-config
data:
  # --------------------------------------------------------------------------------------
  # common
  # --------------------------------------------------------------------------------------
  PLUTUS_BASE_URL: {{ default "http" .Values.protocol }}://{{- include "zadig.endpoint" . }}
  PLUTUS_VERSION: {{ .Chart.Version | quote }}
  AUTO_SYNC_CLIENT: {{ .Values.ee.autoSyncClient | quote }}
  LOG_LEVEL: {{ .Values.logLevel }}

  MYSQL_USER_DB: {{ .Values.connections.mysql.db.user }}
  MYSQL_HOST: {{ .Values.connections.mysql.host }}
  MYSQL_USER: {{ .Values.connections.mysql.auth.user }}
  MYSQL_PASSWORD: {{ .Values.connections.mysql.auth.password | quote }}
  ZADIG_NAMESPACE: {{ .Release.Namespace }}

  # --------------------------------------------------------------------------------------
  # mongo
  # --------------------------------------------------------------------------------------
  PLUTUS_MGO_ADDR: {{ .Values.connections.mongodb.connectionString }}
  PLUTUS_MGO_DB: {{ default "plutus_zadig" .Values.ee.mongodb.db }}
  ZADIG_MGO_DB: {{ .Values.connections.mongodb.db }}
  PLUTUS_PASSWORD: plutus

  # --------------------------------------------------------------------------------------
  # redis
  # --------------------------------------------------------------------------------------
  REDIS_HOST: {{ .Values.connections.redis.host }}
  REDIS_PORT: {{ .Values.connections.redis.port | quote }}
  REDIS_USERNAME: {{ .Values.connections.redis.user | quote }}
  REDIS_PASSWORD: {{ .Values.connections.redis.password | quote }}
  REDIS_USER_TOKEN_DB: {{ .Values.connections.redis.db.token | quote }}
